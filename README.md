# Archive Service

Небольшой сервис на Go, который по ссылкам качает PDF и JPEG‑файлы, кладёт их в ZIP и отдаёт ссылку.

## ТЗ
Необходимо написать систему, в которой пользователь может отправлять запрос в котором будут содержаться ссылки на картинки или файлы, в открытом доступе в интернете, которые необходимо будет скачать и запаковать в zip архив и вернуть пользователю. В случае недоступности какого-либо ресурса по ссылке, пользователю в ответе сервера нужно будет об этом сообщить, но все остальные объекты по ссылкам все равно запаковать в архив и вернуть.

Нужно настроить ограничение по работе с объектами, не больше 3 объектов, а так же, фильтрацию типов объектов, это могут быть .pdf и .jpeg.

С помощью отдельного метода API пользователь может создавать задачу на создание архива. Другим методом API он может добавлять в эту задачу ссылки на файлы которые будут в архиве. По каждой задаче, пользователь должен уметь получить ее статус. Как только число добавляемых файлов в задачу будет равно трем, метод получения статуса должен, вместе со статусом, вернуть ссылку на архив. 
Одновременно программа может работать только над тремя задачами по созданию архива. Если пользователь создает новую задачу, а в работе уже есть 3 архива, пользователь должен получить ответ, о том что сервер в данный момент занят.

Нельзя использовать внешнюю инфраструктуру: докер, БД, и др. Можно использовать конфигурацию для управления доступными расширениями, конфигурированием порта и др.

Репозиторий назвать по текущей дате.


## API
| Метод | Путь | Что делает |
|-------|------|------------|
| `POST` | `/tasks/create` | создаёт новую задачу, вернёт `task_id` |
| `POST` |`/tasks/add?task_id=ID&url=...` | добавляет ссылку в задачу |
| `GET`  |`/tasks/status?task_id=ID` | статус задачи и, если готово, ссылка на архив |

## Настройка
Через переменные окружения:

| env | по умолчанию | описание |
|-----|--------------|-----------|
| `PORT` | 8080 | |
| `ALLOWED_EXTENSIONS` | `.pdf,.jpeg` | какие файлы разрешены |
| `MAX_TASKS` | 3 | сколько задач одновременно |
| `MAX_FILES_PER_TASK` | 3 | сколько файлов в задаче |
| `STORAGE_DIR` | `../storage` | хранилище архивов |